import{a as e}from"./axios-da837377.js";import{l as r}from"./parse-263515be.js";import{l as o}from"./index.m-120058be.js";import{r as c}from"./main-c40ee4ed.js";function A(){const l=c({}),s=c(!1),n=c({}),u=c({});return{isBusy:s,errors:n,respResult:u,accountData:l,fetchAccount:async()=>{const t=await e.get(o("account"));l.value=t.data.data},updateAccount:async t=>{try{s.value=!0;const a=await e.post(o("account.personal"),t);u.value=a;const{name:p,avatar_url:d}=a.data.data;localStorage.removeItem("userData"),localStorage.setItem("userData",JSON.stringify({name:p,avatar_url:d})),r.success(a.data.message)}catch(a){console.log(a),a.response.status===422&&(n.value=a.response.data.errors),r.error(a.response.data.message)}finally{s.value=!1}},updatePassword:async t=>{try{s.value=!0;const a=await e.put(o("account.password"),t);u.value=a,r.success(a.data.message)}catch(a){a.response.status===422&&(n.value=a.response.data.errors),r.error(a.response.data.message)}finally{s.value=!1}},fetchDashboardStats:async()=>await e.get(o("dashboard.stats"))}}export{A as u};

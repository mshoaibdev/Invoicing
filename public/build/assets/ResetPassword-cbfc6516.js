import{cl as f,am as S,db as h,aB as p,p as _,q as r,y as s,b0 as e,by as g,bk as a,bu as I,d7 as N,at as y,cy as F,bt as v,x as k,aU as L,bp as T,cp as b,bx as U,cf as j,aG as D}from"./main-70b82271.js";import{u as E}from"./auth-0d8fd70d.js";import{a as M,b as $}from"./auth-v1-top-shape-9eb39691.js";import{V as A,r as w,e as G}from"./validators-f8585958.js";import{a as z,V as i}from"./VRow-498fad85.js";import"./index-628b2924.js";const H={class:"layout-wrapper layout-blank"},J={class:"auth-wrapper d-flex align-center justify-center pa-4"},K={class:"position-relative my-sm-16"},O={class:"d-flex"},Q=["src"],W=["src"],X=r("h5",{class:"text-h5 font-weight-semibold mb-1"}," Reset Password ðŸ”’ ",-1),Y={class:"mb-0"},Z={class:"font-weight-bold"},ee=r("span",null,"Back to login",-1),ie={__name:"ResetPassword",setup(se){const n=N(),{resetPassword:x,errors:m,respData:C,isLoading:P}=E(),B=f.app.theme.value==="light";S(()=>{(!n.query.email||!n.query.token)&&h.push({name:"login"})});const t=p({password:"",password_confirmation:"",email:n.query.email,token:n.query.token}),V=p(),q=()=>{var c;(c=V.value)==null||c.validate().then(async({valid:o})=>{o&&(await x(t.value),C.value.status===200&&h.push({name:"login"}))})},d=p(!1),u=p(!1);return(c,o)=>{const R=D("RouterLink");return y(),_("div",H,[r("div",J,[r("div",K,[s(g,{src:e(M),class:"auth-v1-top-shape d-none d-sm-block"},null,8,["src"]),s(g,{src:e($),class:"auth-v1-bottom-shape d-none d-sm-block"},null,8,["src"]),s(I,{class:"auth-card pa-4","max-width":"448"},{default:a(()=>[s(F,{class:"justify-center"},{prepend:a(()=>[r("div",O,[B?(y(),_("img",{key:0,src:e(f).app.logo,class:"w-100",style:{height:"60px"}},null,8,Q)):(y(),_("img",{key:1,src:e(f).app.logoBlack,class:"w-100",style:{height:"60px"}},null,8,W))])]),_:1}),s(v,{class:"pt-2"},{default:a(()=>[X,r("p",Y,[k(" for "),r("span",Z,L(e(n).query.email),1)])]),_:1}),s(v,null,{default:a(()=>[s(A,{ref_key:"refVForm",ref:V,onSubmit:T(q,["prevent"])},{default:a(()=>[s(z,null,{default:a(()=>[s(i,{cols:"12"},{default:a(()=>[s(b,{modelValue:e(t).email,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).email=l),label:"Email",type:"email",rules:[e(w),e(G)],"error-messages":e(m).email},null,8,["modelValue","rules","error-messages"])]),_:1}),s(i,{cols:"12"},{default:a(()=>[s(b,{modelValue:e(t).password,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).password=l),label:"New Password",rules:[e(w)],"error-messages":e(m).password,type:e(d)?"text":"password","append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":o[2]||(o[2]=l=>d.value=!e(d))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),s(i,{cols:"12"},{default:a(()=>[s(b,{modelValue:e(t).password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=l=>e(t).password_confirmation=l),label:"Confirm Password",rules:[e(w)],"error-messages":e(m).password_confirmation,type:e(u)?"text":"password","append-inner-icon":e(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":o[4]||(o[4]=l=>u.value=!e(u))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),s(i,{cols:"12"},{default:a(()=>[s(U,{block:"",type:"submit",loading:e(P)},{default:a(()=>[k(" Set New Password ")]),_:1},8,["loading"])]),_:1}),s(i,{cols:"12"},{default:a(()=>[s(R,{class:"d-flex align-center justify-center",to:{name:"login"}},{default:a(()=>[s(j,{icon:"tabler-chevron-left",class:"flip-in-rtl"}),ee]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])])}}};export{ie as default};

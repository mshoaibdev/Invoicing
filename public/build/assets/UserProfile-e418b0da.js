import{a as r,c as s,w as t,b as o,u as a,E as l,g as i,t as u,S as g,ad as V}from"./main-c40ee4ed.js";import{u as b}from"./useAppAbility-d7266ddf.js";import"./axios-da837377.js";import"./parse-263515be.js";import{V as m}from"./VImg-3d39c17f.js";import{V as v}from"./VMenu-ebdbfbe8.js";import{V as y,a as n,b as c,c as I}from"./VList-4b19a862.js";import{V as S}from"./VListItemAction-6edddd71.js";import{V as f}from"./VBadge-4b3a10d7.js";import{V as d}from"./VAvatar-1c4c29a7.js";import{V as h}from"./VDivider-e4e61359.js";import"./transition-127812ba.js";import"./VOverlay-93ac4317.js";import"./forwardRefs-9d31fcaa.js";const $={__name:"UserProfile",setup(k){const p=b(),e=JSON.parse(localStorage.getItem("userData")||"null"),_=()=>{localStorage.removeItem("userData"),localStorage.removeItem("accessToken"),router.push("/login").then(()=>{localStorage.removeItem("userAbilities"),p.update(V)})};return(x,A)=>(r(),s(f,{dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[o(d,{class:"cursor-pointer",color:a(e)&&a(e).avatar?void 0:"primary",variant:a(e)&&a(e).avatar?void 0:"tonal"},{default:t(()=>[a(e)&&a(e).avatar?(r(),s(m,{key:0,src:a(e).avatar},null,8,["src"])):(r(),s(l,{key:1,icon:"tabler-user"})),o(v,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[o(y,null,{default:t(()=>[o(n,null,{prepend:t(()=>[o(S,{start:""},{default:t(()=>[o(f,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:t(()=>[o(d,{color:a(e)&&a(e).avatar?void 0:"primary",variant:a(e)&&a(e).avatar?void 0:"tonal"},{default:t(()=>[a(e)&&a(e).avatar?(r(),s(m,{key:0,src:a(e).avatar},null,8,["src"])):(r(),s(l,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:t(()=>[o(c,{class:"font-weight-medium"},{default:t(()=>[i(u(a(e).fullName||a(e).username),1)]),_:1}),o(I,null,{default:t(()=>[i(u(a(e).role),1)]),_:1})]),_:1}),o(a(g),{options:{wheelPropagation:!1}},{default:t(()=>[o(n,{to:{name:"account-settings",params:{tab:"account"}}},{prepend:t(()=>[o(l,{class:"me-2",icon:"tabler-settings",size:"22"})]),default:t(()=>[o(c,null,{default:t(()=>[i("Settings")]),_:1})]),_:1}),o(h,{class:"my-2"}),o(n,{onClick:_},{prepend:t(()=>[o(l,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[o(c,null,{default:t(()=>[i("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1}))}};export{$ as default};

import{aB as s,az as L,bf as P,cr as n}from"./main-70b82271.js";import{l as R}from"./lodash-bc5bedbb.js";import{l,a as r}from"./index-628b2924.js";function N(){const o=s(!1),c=s(null);s(null);const M=[{title:"Name",key:"name",sortable:!1,visible:!0},{title:"Mode",key:"mode",sortable:!1,visible:!0},{title:"Is Enabled",key:"is_enabled",sortable:!1,visible:!0},{title:"Is Default",key:"is_default",sortable:!1,visible:!0},{title:"Actions",key:"actions",sortable:!1,visible:!0}],u=L({status:""}),d=s([]),i=s(10),h=s(0),m=s(1),v=s(1),w=[10,25,50,100],y=s(""),f=s("id"),g=s(!0);s(null);const b=s({}),D=s({}),k=async t=>{try{o.value=!0;const e=await n.delete(l("payment-methods.destroy",t));c.value=e,r.success(e.data.message)}catch(e){console.log(e),r.error("Error! Deleting paymentMethod")}finally{o.value=!1}},x=async t=>{const e=await n.get(l("payment-methods.show",t));b.value=e.data.data},B=async(t,e)=>{try{o.value=!0;const a=await n.post(l("payment-methods.update",t),e);c.value=a,r.success(a.data.message)}catch(a){a.response.status===422&&(D.value=a.response.data.errors),r.error(a.response.data.message)}finally{o.value=!1}},E=async(t,e)=>{try{o.value=!0;const a=await n.post(l("payment-methods.status",t),e);c.value=a,r.success(a.data.message)}catch(a){console.log(a),a.response.status===422&&r.error(a.response.data.message)}finally{o.value=!1}},I=async t=>{o.value=!0,await n.post(l("payment-methods.store"),t).then(e=>{c.value=e,r.success(e.data.message)}).catch(e=>{c.value=e,e.response.status===422&&r.error(e.response.data.message)}).finally(()=>{o.value=!1})},p=async()=>{o.value=!0;try{const t=await n.get(l("payment-methods.index"),{params:{q:y.value,perPage:i.value,page:m.value,sortBy:f.value,sortDesc:g.value,...u}}),{total:e,last_page:a}=t.data.meta;v.value=a,d.value=t.data.data,h.value=e}catch(t){r.error(t.response.data.message)}finally{o.value=!1}},S=async t=>{o.value=!0;try{const e=await n.get(l("fetch-payment-methods"),{params:{...u}});d.value=e.data.data}catch(e){r.error(e.response.data.message)}finally{o.value=!1}},_=R.debounce(()=>{p()},500);return P(y,()=>{_()}),P([m,i,u],()=>{p()}),{paymentMethodData:b,isLoading:o,getPaymentMethod:x,sortBy:f,itemsPerPage:i,totalPages:v,filters:u,respResult:c,paymentMethods:d,fetchPaymentMethods:p,deletePaymentMethod:k,updatePaymentMethod:B,currentPage:m,searchQuery:y,totalRecords:h,headers:M,isSortDirDesc:g,perPageOptions:w,storePaymentMethod:I,fetchPaymentMethodsList:S,updatePaymentMethodStatus:E}}export{N as u};

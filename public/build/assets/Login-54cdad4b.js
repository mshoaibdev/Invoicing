import{aB as m,p as S,q as n,y as t,b0 as e,bk as a,bu as T,at as A,X as b,d8 as _,aU as F,cl as U,bt as N,bp as P,x as w,bx as D,d7 as M,bF as j,aG as q,cG as E}from"./main-70b82271.js";import{_ as G}from"./AppTextField-2e476594.js";import{u as H}from"./auth-0d8fd70d.js";import{u as $}from"./useAppAbility-771d97f7.js";import{V as I,r as g,e as J}from"./validators-f8585958.js";import{a as W,V as y}from"./VRow-498fad85.js";import{V as X}from"./VCheckbox-0963be68.js";import"./index-628b2924.js";import"./VCheckboxBtn-d416ecdf.js";import"./VSelectionControl-f8a2bfe4.js";const z=`<svg width="238" height="238" viewBox="0 0 181 181" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="1.30469" y="1.44312" width="178" height="178" rx="19" stroke="currentColor" stroke-opacity="0.16" stroke-width="2" stroke-dasharray="8 8"/>
<rect x="22.8047" y="22.9431" width="135" height="135" rx="10" fill="currentColor" fill-opacity="0.08"/>
</svg>
`,K=`<svg width="239" height="234" viewBox="0 0 239 234" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="88.5605" y="0.700195" width="149" height="149" rx="19.5" stroke="currentColor" stroke-opacity="0.16"/>
<rect x="0.621094" y="33.761" width="200" height="200" rx="10" fill="currentColor" fill-opacity="0.08"/>
</svg>
`;const O={class:"layout-wrapper layout-blank"},Q={class:"auth-wrapper d-flex align-center justify-center pa-4"},Y={class:"position-relative my-sm-16"},Z={class:"text-h4 font-weight-semibold mb-1 text-center"},ee=n("p",{class:"mb-0 text-center"}," Please sign-in to your account ",-1),te={class:"d-flex align-center justify-space-between flex-wrap mt-2 mb-4"},ce={__name:"Login",setup(se){const v=$(),d=m(!1);M();const x=j(),{login:V,errors:p,respData:c,isLoading:k}=H(),{setUser:C,setToken:L,setUserAbilities:B}=E(),r=m({email:"",password:"",remember:!1}),h=m(),R=()=>{var l;(l=h.value)==null||l.validate().then(async({valid:s})=>{var i;if(s&&await V(r.value),((i=c.value)==null?void 0:i.status)===200){const{token:u,userData:o,userAbilities:f}=c.value.data;C(o),L(u),B(f),v.update(f),x.push({name:"dashboard"})}})};return(l,s)=>{const i=G,u=q("RouterLink");return A(),S("div",O,[n("div",Q,[n("div",Y,[t(e(_),{nodes:("h"in l?l.h:e(b))("div",{innerHTML:e(K)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),t(e(_),{nodes:("h"in l?l.h:e(b))("div",{innerHTML:e(z)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),t(T,{class:"auth-card pa-4","max-width":"448"},{default:a(()=>[n("div",null,[n("h4",Z," Welcome to "+F(e(U).app.title)+"! ",1),ee]),t(N,null,{default:a(()=>[t(e(I),{ref_key:"refVForm",ref:h,onSubmit:P(R,["prevent"])},{default:a(()=>[t(W,null,{default:a(()=>[t(y,{cols:"12"},{default:a(()=>[t(i,{modelValue:e(r).email,"onUpdate:modelValue":s[0]||(s[0]=o=>e(r).email=o),label:"Email",type:"email",autofocus:"",rules:[e(g),e(J)],"error-messages":e(p).email},null,8,["modelValue","rules","error-messages"])]),_:1}),t(y,{cols:"12"},{default:a(()=>[t(i,{modelValue:e(r).password,"onUpdate:modelValue":s[1]||(s[1]=o=>e(r).password=o),label:"Password",rules:[e(g)],type:e(d)?"text":"password","error-messages":e(p).password,"append-inner-icon":e(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":s[2]||(s[2]=o=>d.value=!e(d))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),n("div",te,[t(X,{modelValue:e(r).remember,"onUpdate:modelValue":s[3]||(s[3]=o=>e(r).remember=o),label:"Remember me"},null,8,["modelValue"]),t(u,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:a(()=>[w(" Forgot Password? ")]),_:1})]),t(D,{block:"",type:"submit",loading:e(k)},{default:a(()=>[w(" Login ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])])}}};export{ce as default};

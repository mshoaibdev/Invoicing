import{a3 as Ie,r as g,o as ve,a as T,c as O,w as l,b as e,u as a,d as B,V as E,E as Y,a6 as ce,ab as Ge,ac as Ne,ae as st,k as N,a5 as _e,U as j,f as Z,F as re,p as de,K as ue,g as K,af as fe,ag as At,H as Ve,M as be,ah as It,ai as Be,aj as ot,ak as Bt,al as Ft,am as zt,an as Fe,ao as nt,ap as Lt,I as he,O as it,aq as ut,ar as Oe,as as rt,at as dt,au as ne,av as Te,aw as Ee,ax as Re,ay as ae,J as we,az as Ke,a8 as Tt,aA as me,h as W,t as le,Z as qe,$ as ct,e as ft,L as Et,aB as Mt,aC as Gt,aD as Nt,aE as vt,aF as Ot,Y as Ze,aG as qt,aH as jt,aI as Ht,aJ as Xt,aK as Me,aL as mt,aM as Yt,aN as Wt,aO as Jt,aP as Qt,aQ as Kt,aR as Zt}from"./main-c40ee4ed.js";import{u as pt}from"./account-a3d51956.js";import{V as pe,r as H,e as je}from"./VForm-48297921.js";import{V as I,a as te}from"./VRow-db2c24e9.js";import{V as ie,a as ee}from"./VCard-a375baf5.js";import{V as ze}from"./VAvatar-1c4c29a7.js";import{V as ye}from"./VDivider-e4e61359.js";import{V as G}from"./VTextField-1b1d5e52.js";import{_ as He,V as gt}from"./VDataTableServer-84efd4e3.js";import{a as J}from"./axios-da837377.js";import{l as X}from"./parse-263515be.js";import{l as Q}from"./index.m-120058be.js";import{_ as xe,V as ea,a as bt,l as ta,u as Xe,b as Pe,c as aa,d as yt}from"./VTextarea-bfeb20e3.js";import{V as Ue}from"./VCheckbox-4209f72d.js";import{V as _t,d as Vt,a as Ae,u as la}from"./VList-4b19a862.js";import{V as ht}from"./VListItemAction-6edddd71.js";import{V as De}from"./VDialog-fe67dd57.js";import{_ as sa}from"./AppTextField-9867e25c.js";import{V as oa}from"./VSpacer-da28ce88.js";import{a as na,s as ia}from"./forwardRefs-9d31fcaa.js";import{a as ua,b as ra}from"./VOverlay-93ac4317.js";import{M as da}from"./transition-127812ba.js";import"./VInput-135e03cb.js";import"./VImg-3d39c17f.js";import"./VCheckboxBtn-609a0dc2.js";import"./VSelectionControl-84b50376.js";import"./VMenu-ebdbfbe8.js";import"./_commonjsHelpers-725317a4.js";const Se=t=>(Ge("data-v-39c11342"),t=t(),Ne(),t),ca={class:"d-flex flex-column justify-center gap-4"},fa={class:"d-flex flex-wrap gap-2"},va=Se(()=>B("span",{class:"d-none d-sm-block"},"Upload new photo",-1)),ma=Se(()=>B("span",{class:"d-none d-sm-block"},"Reset",-1)),pa=Se(()=>B("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 4MB ",-1)),ga=Se(()=>B("span",{class:"fontForMobileSize"},"Save changes",-1)),ba=Se(()=>B("span",{class:"fontForMobileSize"},"Reset",-1)),ya={__name:"AccountSettingsAccount",setup(t){const{fetchAccount:o,accountData:s,isBusy:f,updateAccount:V}=pt(),i=g({}),d=g(),b=g(""),_=g(""),y=g("");ve(async()=>{await o(),i.value={...s.value},y.value=s.value.avatar_url,delete i.value.avatar});const C=()=>{i.value={...s.value}},P=p=>{const r=new FileReader,{files:v}=p.target;v&&v.length&&(r.readAsDataURL(v[0]),_.value=v[0],r.onload=()=>{typeof r.result=="string"&&(y.value=r.result)})},$=async()=>{var p;(p=d.value)==null||p.validate().then(async({valid:r})=>{if(r){const v=new FormData;for(const h in i.value)Object.hasOwnProperty.call(i.value,h)&&v.append(h,i.value[h]);_.value&&_.value!==null&&v.append("avatar",_.value),v.append("_method","PUT"),await V(v)}})},w=()=>{i.value.avatar_url=s.value.avatar_url};return(p,r)=>(T(),O(te,null,{default:l(()=>[e(I,{cols:"12"},{default:l(()=>[e(ie,{title:"Profile Details"},{default:l(()=>[e(ee,{class:"d-flex"},{default:l(()=>[e(ze,{rounded:"",size:"100",class:"me-6",image:a(y)},null,8,["image"]),B("div",ca,[B("div",fa,[e(E,{color:"primary",onClick:r[0]||(r[0]=v=>{var h;return(h=a(b))==null?void 0:h.click()})},{default:l(()=>[e(Y,{icon:"tabler-cloud-upload",class:"d-sm-none"}),va]),_:1}),B("input",{ref_key:"refInputEl",ref:b,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:P},null,544),e(E,{type:"reset",color:"secondary",variant:"tonal",onClick:w},{default:l(()=>[ma,e(Y,{icon:"tabler-refresh",class:"d-sm-none"})]),_:1})]),pa])]),_:1}),e(ye),e(ee,{class:"pt-2"},{default:l(()=>[e(pe,{ref_key:"refForm",ref:d,class:"mt-6","on-submit":"return false;",onSubmit:ce($,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{md:"6",cols:"12"},{default:l(()=>[e(G,{modelValue:a(i).first_name,"onUpdate:modelValue":r[1]||(r[1]=v=>a(i).first_name=v),label:"First Name",rules:[a(H)],name:"first_name"},null,8,["modelValue","rules"])]),_:1}),e(I,{md:"6",cols:"12"},{default:l(()=>[e(G,{modelValue:a(i).last_name,"onUpdate:modelValue":r[2]||(r[2]=v=>a(i).last_name=v),label:"Last Name",rules:[a(H)],name:"last_name"},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(i).email,"onUpdate:modelValue":r[3]||(r[3]=v=>a(i).email=v),rules:[a(H),a(je)],label:"E-mail",type:"email",name:"email"},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(i).organization,"onUpdate:modelValue":r[4]||(r[4]=v=>a(i).organization=v),label:"Organization",name:"organization"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(i).phone,"onUpdate:modelValue":r[5]||(r[5]=v=>a(i).phone=v),label:"Phone Number",name:"phone"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(i).address,"onUpdate:modelValue":r[6]||(r[6]=v=>a(i).address=v),label:"Address",name:"address"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(i).state,"onUpdate:modelValue":r[7]||(r[7]=v=>a(i).state=v),label:"State",name:"state"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(i).zip,"onUpdate:modelValue":r[8]||(r[8]=v=>a(i).zip=v),label:"Zip Code",name:"zip"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(E,{type:"submit",loading:a(f),disabled:a(f),class:"userbtnForMobileSize"},{default:l(()=>[ga]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",type:"reset",onClick:ce(C,["prevent"])},{default:l(()=>[ba]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}))}},_a=Ie(ya,[["__scopeId","data-v-39c11342"]]);function Ce(){const t=g(!1),o=g(null),s=g(null),f=g([{label:"Name"},{label:"Assigned Permissions"}]),V=st({}),i=g([]),d=g(10),b=g(0),_=g(1),y=g(1),C=[10,25,50,100],P=g(""),$=g("id"),w=g(!0),p=g(null),r=g({}),v=g({}),h=N(()=>{const U=i.value.length?(_.value-1)*d.value+1:0,A=i.value.length+(_.value-1)*d.value;return`Showing ${U} to ${A} of ${b.value} entries`}),S=()=>{s.value.refresh()},x=async U=>{try{t.value=!0;const A=await J.delete(Q("roles.destroy",U));o.value=A,X.success(A.data.message)}catch(A){console.log(A),X.error("Error! Deleting role")}finally{t.value=!1}},u=async U=>{const A=await J.get(Q("roles.show",U));r.value=A.data.data},k=async(U,A)=>{try{t.value=!0;const n=await J.post(Q("roles.update",A),U);o.value=n,X.success(n.data.message)}catch(n){n.response.status===422&&(v.value=n.response.data.errors),X.error(n.response.data.message)}finally{t.value=!1}},D=async U=>{t.value=!0,await J.post(Q("roles.store"),U).then(A=>{o.value=A,X.success(A.data.message)}).catch(A=>{o.value=A,A.response.status===422&&X.error(A.response.data.message)}).finally(()=>{t.value=!1})},F=async()=>{t.value=!0;try{const U=await J.get(Q("roles.index"),{params:{q:P.value,perPage:d.value,page:_.value,sortBy:$.value,sortDesc:w.value,...V}}),{total:A,last_page:n}=U.data.meta;y.value=n,i.value=U.data.data,b.value=A}catch(U){X.error(U.response.data.message)}finally{t.value=!1}},m=async U=>{t.value=!0;try{const A=await J.get(Q("roles.index"),{params:{...V}});i.value=A.data.data}catch(A){X.error(A.response.data.message)}finally{t.value=!1}},z=U=>U==="admin"?{color:"warning",icon:"tabler-shield-check"}:U==="user"?{color:"success",icon:"tabler-role"}:{color:"primary",icon:"tabler-role"};return _e([_,d,P,V],()=>{F()}),{role:r,isBusy:t,errors:v,getRole:u,roleId:p,sortBy:$,perPage:d,totalPages:y,filters:V,paginationData:h,respResult:o,roles:i,fetchRoles:F,deleteRole:x,refetchData:S,updateRole:k,storeRole:D,currentPage:_,searchQuery:P,refListTable:s,totalRecords:b,tableColumns:f,isSortDirDesc:w,fetchRolesList:m,perPageOptions:C,resolveRoleRoleVariant:z}}function wt(){g(!1);const t=g(!1),o=g(null),s=g([]),f=g({}),V=g(20),i=g(0),d=g(1),b=[10,25,50,100],_=g(""),y=g("name"),C=g(!0),P=g(null),$=[{key:"name",sortable:!0},{key:"actions"}],w=N(()=>{const x=P.value?P.value.localItems.length:0;return{from:V.value*(d.value-1)+(x?1:0),to:V.value*(d.value-1)+x,of:i.value}}),p=async()=>{try{const x=await J.get(Q("permissions.index"),{params:{q:_.value,perPage:V.value,page:d.value,sortBy:y.value,sortDesc:C.value}});if(s.value=x.data.data,x.data.meta){const{total:u}=x.data.meta;i.value=u}}catch(x){x.message==="Network Error"?X.error(x.message):(o.value=x,X.error(x.response.data.message))}},r=async x=>{f.value="";try{t.value=!0;const u=await J.post(Q("permissions.store"),x);o.value=u,X.success(u.data.message)}catch(u){u.message==="Network Error"?X.error(u.message):(u.response.status===422&&(f.value=u.response.data.errors),o.value=u,X.error(u.response.data.message))}finally{t.value=!1}},v=async x=>{f.value="";try{t.value=!0;const u=await J.put(Q("permissions.update",x.id),x);o.value=u,X.success(u.data.message)}catch(u){u.message==="Network Error"?X.error(u.message):(u.response.status===422&&(f.value=u.response.data.errors),o.value=u,X.error(u.response.data.message))}finally{t.value=!1}},h=async x=>{try{t.value=!0;const u=await J.delete(Q("permissions.destroy",x));X.success(u.data.message),o.value=u}catch(u){u.message==="Network Error"?X.error(u.message):(o.value=u,X.error(u.response.data.message))}finally{t.value=!1}},S=async(x="")=>{t.value=!0;try{const u=await J.get(Q("permissions.index"),{params:{q:x}});s.value=u.data.data}catch(u){X.error(u.response.data.message)}finally{t.value=!1}};return _e([d,V,_],()=>{p()}),{busy:t,sortBy:y,errors:f,perPage:V,dataMeta:w,respResult:o,currentPage:d,permissions:s,searchQuery:_,tableColumns:$,isSortDirDesc:C,perPageOptions:b,storePermission:r,deletePermission:h,updatePermission:v,fetchPermissions:p,fetchPermissionsList:S}}const Va={class:"d-flex justify-space-between align-center"},ha=B("h4",null,"Select Permissions",-1),wa={__name:"AddRole",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["refetchData","update:isDialogVisible"],setup(t,{emit:o}){const s=t,{storeRole:f,respResult:V,isBusy:i,errors:d}=Ce(),{permissions:b,fetchPermissionsList:_}=wt(),y=g(),C={name:"",permissions:[]};ve(async()=>{s.isDialogVisible&&await _()});const P=g(!1),$=()=>{P.value?p.value.permissions=b.value.map(x=>x.id):p.value.permissions=[]},w=N(()=>{const x={};return b.value.forEach(u=>{const[k,D]=u.name.split("-");x[k]?x[k].push(u):x[k]=[u]}),x}),p=g({...C}),r=()=>{p.value={...C},fe(()=>{var x,u;(x=y.value)==null||x.reset(),(u=y.value)==null||u.resetValidation()})},v=async()=>{var x;(x=y.value)==null||x.validate().then(async({valid:u})=>{u&&(await f(p.value),V.value.status===200&&(o("refetchData"),o("update:isDialogVisible",!1),r()))})},h=()=>{r(),o("update:isDialogVisible",!1)},S=x=>{o("update:isDialogVisible",x)};return(x,u)=>{const k=xe;return T(),O(De,{width:x.$vuetify.display.smAndDown?"auto":800,"model-value":s.isDialogVisible,"onUpdate:modelValue":S},{default:l(()=>[e(k,{onClick:u[0]||(u[0]=D=>S(!1))}),e(ie,{title:"Add New Role"},{default:l(()=>[e(ee,null,{default:l(()=>[e(pe,{ref_key:"refForm",ref:y,onSubmit:ce(v,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{cols:"12",md:"12"},{default:l(()=>[e(G,{modelValue:a(p).name,"onUpdate:modelValue":u[1]||(u[1]=D=>a(p).name=D),label:"Role Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[B("div",Va,[ha,e(Ue,{modelValue:a(P),"onUpdate:modelValue":[u[2]||(u[2]=D=>j(P)?P.value=D:null),$],label:`Select All (${a(b).length})`},null,8,["modelValue","label"])]),e(_t,null,{default:l(()=>[(T(!0),Z(re,null,de(a(w),(D,F)=>(T(),O(Vt,{key:F,value:F},{activator:l(({props:m})=>[e(Ae,ue(m,{title:F}),null,16,["title"])]),default:l(()=>[(T(!0),Z(re,null,de(D,m=>(T(),O(Ae,{key:m.id,class:"pl-8"},{default:l(()=>[e(ht,null,{default:l(()=>[e(Ue,{modelValue:a(p).permissions,"onUpdate:modelValue":u[3]||(u[3]=z=>a(p).permissions=z),value:m.id,label:m.name},null,8,["modelValue","value","label"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4 justify-end"},{default:l(()=>[e(E,{type:"submit",loading:a(i),disabled:a(i),onClick:u[4]||(u[4]=D=>{var F;return(F=a(y))==null?void 0:F.validate()})},{default:l(()=>[K(" Add New ")]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",onClick:h},{default:l(()=>[K(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}};const xa={class:"d-flex justify-space-between align-center"},Da=B("h4",null,"Select Permissions",-1),ka={__name:"EditRole",props:{isDialogVisible:{type:Boolean,required:!0},roleId:{type:Number,required:!0}},emits:["refetchData","update:isDialogVisible"],setup(t,{emit:o}){const s=t,{updateRole:f,respResult:V,isBusy:i,errors:d,getRole:b,role:_}=Ce(),{permissions:y,fetchPermissionsList:C}=wt(),P=g(),$={name:"",permissions:[]};ve(async()=>{s.isDialogVisible&&(await b(s.roleId),v.value={..._.value,permissions:_.value.permissions.map(k=>k.id)},await C())});const w=g(!1),p=()=>{w.value?v.value.permissions=y.value.map(k=>k.id):v.value.permissions=[]},r=N(()=>{const k={};return y.value.forEach(D=>{const[F,m]=D.name.split("-");k[F]?k[F].push(D):k[F]=[D]}),k}),v=g({...$}),h=()=>{v.value={...$},fe(()=>{var k,D;(k=P.value)==null||k.reset(),(D=P.value)==null||D.resetValidation()})},S=async()=>{var k;(k=P.value)==null||k.validate().then(async({valid:D})=>{D&&(v.value._method="PUT",await f(v.value,s.roleId),V.value.status===200&&(o("refetchData"),o("update:isDialogVisible",!1),h()))})},x=()=>{h(),o("update:isDialogVisible",!1)},u=k=>{o("update:isDialogVisible",k)};return(k,D)=>{const F=xe;return T(),O(De,{width:k.$vuetify.display.smAndDown?"auto":800,"model-value":s.isDialogVisible,"onUpdate:modelValue":u},{default:l(()=>[e(F,{onClick:D[0]||(D[0]=m=>u(!1))}),e(ie,{title:"Update Role"},{default:l(()=>[e(ee,null,{default:l(()=>[e(pe,{ref_key:"refForm",ref:P,onSubmit:ce(S,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{cols:"12",md:"12"},{default:l(()=>[e(G,{modelValue:a(v).name,"onUpdate:modelValue":D[1]||(D[1]=m=>a(v).name=m),label:"Role Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[B("div",xa,[Da,e(Ue,{modelValue:a(w),"onUpdate:modelValue":[D[2]||(D[2]=m=>j(w)?w.value=m:null),p],label:`Select All (${a(y).length})`},null,8,["modelValue","label"])]),e(_t,null,{default:l(()=>[(T(!0),Z(re,null,de(a(r),(m,z)=>(T(),O(Vt,{key:z,value:z},{activator:l(({props:U})=>[e(Ae,ue(U,{title:z}),null,16,["title"])]),default:l(()=>[(T(!0),Z(re,null,de(m,U=>(T(),O(Ae,{key:U.id,class:"pl-8"},{default:l(()=>[e(ht,null,{default:l(()=>[e(Ue,{modelValue:a(v).permissions,"onUpdate:modelValue":D[3]||(D[3]=A=>a(v).permissions=A),value:U.id,label:U.name},null,8,["modelValue","value","label"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4 justify-end"},{default:l(()=>[e(E,{type:"submit",loading:a(i),disabled:a(i),onClick:D[4]||(D[4]=m=>{var z;return(z=a(P))==null?void 0:z.validate()})},{default:l(()=>[K(" Update Role ")]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",onClick:x},{default:l(()=>[K(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}};function Sa(){const t=g([]);At(()=>t.value=[]);function o(s,f){t.value[f]=s}return{refs:t,updateRef:o}}const Ca=Ve({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:t=>t.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:t=>t%1===0},totalVisible:[Number,String],firstIcon:{type:be,default:"$first"},prevIcon:{type:be,default:"$prev"},nextIcon:{type:be,default:"$next"},lastIcon:{type:be,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...It(),...Be(),...ot(),...Bt(),...Ft(),...zt(),...Fe({tag:"nav"}),...nt(),...Lt({variant:"text"})},"VPagination"),$a=he()({name:"VPagination",props:Ca(),emits:{"update:modelValue":t=>!0,first:t=>!0,prev:t=>!0,next:t=>!0,last:t=>!0},setup(t,o){let{slots:s,emit:f}=o;const V=it(t,"modelValue"),{t:i,n:d}=ut(),{isRtl:b}=Oe(),{themeClasses:_}=rt(t),{width:y}=dt(),C=ne(-1);Te(void 0,{scoped:!0});const{resizeRef:P}=Ee(m=>{if(!m.length)return;const{target:z,contentRect:U}=m[0],A=z.querySelector(".v-pagination__list > *");if(!A)return;const n=U.width,c=A.offsetWidth+parseFloat(getComputedStyle(A).marginRight)*2;C.value=r(n,c)}),$=N(()=>parseInt(t.length,10)),w=N(()=>parseInt(t.start,10)),p=N(()=>t.totalVisible?parseInt(t.totalVisible,10):C.value>=0?C.value:r(y.value,58));function r(m,z){const U=t.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((m-z*U)/z).toFixed(2)))}const v=N(()=>{if($.value<=0||isNaN($.value)||$.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=1)return[V.value];if($.value<=p.value)return Re($.value,w.value);const m=p.value%2===0,z=m?p.value/2:Math.floor(p.value/2),U=m?z:z+1,A=$.value-z;if(U-V.value>=0)return[...Re(Math.max(1,p.value-1),w.value),t.ellipsis,$.value];if(V.value-A>=(m?1:0)){const n=p.value-1,c=$.value-n+w.value;return[w.value,t.ellipsis,...Re(n,c)]}else{const n=Math.max(1,p.value-3),c=n===1?V.value:V.value-Math.ceil(n/2)+w.value;return[w.value,t.ellipsis,...Re(n,c),t.ellipsis,$.value]}});function h(m,z,U){m.preventDefault(),V.value=z,U&&f(U,z)}const{refs:S,updateRef:x}=Sa();Te({VPaginationBtn:{color:ae(t,"color"),border:ae(t,"border"),density:ae(t,"density"),size:ae(t,"size"),variant:ae(t,"variant"),rounded:ae(t,"rounded"),elevation:ae(t,"elevation")}});const u=N(()=>v.value.map((m,z)=>{const U=A=>x(A,z);if(typeof m=="string")return{isActive:!1,key:`ellipsis-${z}`,page:m,props:{ref:U,ellipsis:!0,icon:!0,disabled:!0}};{const A=m===V.value;return{isActive:A,key:m,page:d(m),props:{ref:U,ellipsis:!1,icon:!0,disabled:!!t.disabled||+t.length<2,color:A?t.activeColor:t.color,ariaCurrent:A,ariaLabel:i(A?t.currentPageAriaLabel:t.pageAriaLabel,m),onClick:n=>h(n,m)}}}})),k=N(()=>{const m=!!t.disabled||V.value<=w.value,z=!!t.disabled||V.value>=w.value+$.value-1;return{first:t.showFirstLastPage?{icon:b.value?t.lastIcon:t.firstIcon,onClick:U=>h(U,w.value,"first"),disabled:m,ariaLabel:i(t.firstAriaLabel),ariaDisabled:m}:void 0,prev:{icon:b.value?t.nextIcon:t.prevIcon,onClick:U=>h(U,V.value-1,"prev"),disabled:m,ariaLabel:i(t.previousAriaLabel),ariaDisabled:m},next:{icon:b.value?t.prevIcon:t.nextIcon,onClick:U=>h(U,V.value+1,"next"),disabled:z,ariaLabel:i(t.nextAriaLabel),ariaDisabled:z},last:t.showFirstLastPage?{icon:b.value?t.firstIcon:t.lastIcon,onClick:U=>h(U,w.value+$.value-1,"last"),disabled:z,ariaLabel:i(t.lastAriaLabel),ariaDisabled:z}:void 0}});function D(){var z;const m=V.value-w.value;(z=S.value[m])==null||z.$el.focus()}function F(m){m.key===Ke.left&&!t.disabled&&V.value>+t.start?(V.value=V.value-1,fe(D)):m.key===Ke.right&&!t.disabled&&V.value<w.value+$.value-1&&(V.value=V.value+1,fe(D))}return we(()=>e(t.tag,{ref:P,class:["v-pagination",_.value,t.class],style:t.style,role:"navigation","aria-label":i(t.ariaLabel),onKeydown:F,"data-test":"v-pagination-root"},{default:()=>[e("ul",{class:"v-pagination__list"},[t.showFirstLastPage&&e("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[s.first?s.first(k.value.first):e(E,ue({_as:"VPaginationBtn"},k.value.first),null)]),e("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[s.prev?s.prev(k.value.prev):e(E,ue({_as:"VPaginationBtn"},k.value.prev),null)]),u.value.map((m,z)=>e("li",{key:m.key,class:["v-pagination__item",{"v-pagination__item--is-active":m.isActive}],"data-test":"v-pagination-item"},[s.item?s.item(m):e(E,ue({_as:"VPaginationBtn"},m.props),{default:()=>[m.page]})])),e("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[s.next?s.next(k.value.next):e(E,ue({_as:"VPaginationBtn"},k.value.next),null)]),t.showFirstLastPage&&e("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[s.last?s.last(k.value.last):e(E,ue({_as:"VPaginationBtn"},k.value.last),null)])])]})),{}}}),xt=t=>(Ge("data-v-ba200b64"),t=t(),Ne(),t),Ra=xt(()=>B("th",{scope:"col"},[B("span",{class:"ms-2"},"ACTIONS")],-1)),Pa={class:"d-flex flex-wrap gap-2 mt-2 mb-2"},Ua={style:{width:"7.5rem"}},Aa=xt(()=>B("tr",null,[B("td",{colspan:"8",class:"text-center text-body-1"}," No data available ")],-1)),Ia=[Aa],Ba={class:"text-sm text-disabled"},Fa={__name:"AccountSettingsRoles",setup(t){const{fetchRoles:o,roles:s,respResult:f,tableColumns:V,searchQuery:i,perPage:d,currentPage:b,totalPages:_,paginationData:y,deleteRole:C,resolveRoleRoleVariant:P}=Ce(),$=g(""),w=g(!1),p=g(!1),r=g(!1);ve(()=>{o()});const v=x=>{$.value=x,r.value=!0},h=async x=>{x&&(await C($.value),o())},S=x=>{$.value=x,w.value=!0};return Tt(()=>{b.value>_.value&&(b.value=_.value)}),(x,u)=>{const k=He;return T(),Z("section",null,[e(te,null,{default:l(()=>[e(I,{cols:"12"},{default:l(()=>[e(ie,{title:"Roles"},{default:l(()=>[e(ye),e(ee,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{lg:"3",md:"3",sm:"3",cols:"12"},{default:l(()=>[a(me).can("Create","settings-roles-create")?(T(),O(E,{key:0,"prepend-icon":"tabler-plus",onClick:u[0]||(u[0]=D=>p.value=!0)},{default:l(()=>[K(" Add New Role ")]),_:1})):W("",!0)]),_:1}),e(I,{lg:"3",md:"3",sm:"3",cols:"12"},{default:l(()=>[e(G,{modelValue:a(i),"onUpdate:modelValue":u[1]||(u[1]=D=>j(i)?i.value=D:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ye),e(ea,{class:"text-no-wrap"},{default:l(()=>[B("thead",null,[B("tr",null,[(T(!0),Z(re,null,de(a(V),(D,F)=>(T(),Z("th",{key:F,scope:"col"},le(D.label),1))),128)),Ra])]),B("tbody",null,[(T(!0),Z(re,null,de(a(s),D=>(T(),Z("tr",{key:D.id},[B("td",null,le(D.name),1),B("td",null,[B("div",Pa,[(T(!0),Z(re,null,de(D.permissions,F=>(T(),O(bt,{key:F.id,color:a(P)(F.name).color,icon:a(P)(D.name).icon,class:"text-capitalize font-weight-medium mr-2",label:"",small:""},{default:l(()=>[K(le(F.name),1)]),_:2},1032,["color","icon"]))),128))])]),B("td",Ua,[a(me).can("Delete","settings-roles-delete")?(T(),O(E,{key:0,icon:"",variant:"text",color:"default",size:"x-small",onClick:F=>S(D.id)},{default:l(()=>[e(Y,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])):W("",!0),a(me).can("Update","settings-roles-edit")?(T(),O(E,{key:1,icon:"",variant:"text",color:"default",size:"x-small",onClick:F=>v(D.id)},{default:l(()=>[e(Y,{size:"22",icon:"tabler-pencil"})]),_:2},1032,["onClick"])):W("",!0)])]))),128))]),qe(B("tfoot",null,Ia,512),[[ct,!a(s).length]])]),_:1}),e(ye),e(ee,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:l(()=>[B("span",Ba,le(a(y)),1),e($a,{modelValue:a(b),"onUpdate:modelValue":u[2]||(u[2]=D=>j(b)?b.value=D:null),size:"small","total-visible":5,length:a(_)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),a(p)?(T(),O(wa,{key:0,isDialogVisible:a(p),"onUpdate:isDialogVisible":u[3]||(u[3]=D=>j(p)?p.value=D:null),onRefetchData:a(o)},null,8,["isDialogVisible","onRefetchData"])):W("",!0),a(r)?(T(),O(ka,{key:1,isDialogVisible:a(r),"onUpdate:isDialogVisible":u[4]||(u[4]=D=>j(r)?r.value=D:null),"role-id":a($),onRefetchData:a(o)},null,8,["isDialogVisible","role-id","onRefetchData"])):W("",!0),e(k,{isDialogVisible:a(w),"onUpdate:isDialogVisible":u[5]||(u[5]=D=>j(w)?w.value=D:null),"cancel-title":"Cancelled","confirm-title":"Deleted","confirm-msg":"role deleted successfully.","confirmation-question":"Are you sure you want to delete role, This action is irreversible?","cancel-msg":"role deletion cancelled.",onConfirm:h},null,8,["isDialogVisible"])])}}},za=Ie(Fa,[["__scopeId","data-v-ba200b64"]]);const Ye=t=>(Ge("data-v-67cda228"),t=t(),Ne(),t),La=Ye(()=>B("h6",{class:"text-base font-weight-medium mb-3"}," Password Requirements: ",-1)),Ta={class:"card-list"},Ea={class:"password-icon"},Ma={class:"password-text"},Ga=Ye(()=>B("span",{class:"securityfontForMobileSize"},"Update password",-1)),Na=Ye(()=>B("span",{class:"securityfontForMobileSize"},"Reset",-1)),Oa={__name:"AccountSettingsSecurity",setup(t){const{updatePassword:o,respResult:s,isBusy:f}=pt(),V=g(!1),i=g(!1),d=g(!1);g(""),g(""),g("");const b=["Minimum 8 characters long - the more, the better","At least one lowercase character","At least one number, symbol, or whitespace character"],_={current_password:"",password:"",password_confirmation:""},y=g({..._}),C=g(),P={required:p=>!!p||"Required.",min:p=>p.length>=8||"Min 8 characters"},$=()=>{y.value={..._},fe(()=>{var p,r;(p=C.value)==null||p.reset(),(r=C.value)==null||r.resetValidation()})},w=async()=>{var p;(p=C.value)==null||p.validate().then(async({valid:r})=>{r&&(await o(y.value),s.value.status===200&&$())})};return(p,r)=>(T(),O(te,null,{default:l(()=>[e(I,{cols:"12"},{default:l(()=>[e(ie,{title:"Change Password"},{default:l(()=>[e(pe,{ref_key:"refForm",ref:C,onSubmit:ce(w,["prevent"])},{default:l(()=>[e(ee,{class:"pt-0"},{default:l(()=>[e(te,{class:"mb-3"},{default:l(()=>[e(I,{cols:"12",md:"4"},{default:l(()=>[e(G,{modelValue:a(y).current_password,"onUpdate:modelValue":r[0]||(r[0]=v=>a(y).current_password=v),rules:[P.required,P.min],type:a(V)?"text":"password","append-inner-icon":a(V)?"tabler-eye-off":"tabler-eye",label:"Current Password","onClick:appendInner":r[1]||(r[1]=v=>V.value=!a(V))},null,8,["modelValue","rules","type","append-inner-icon"])]),_:1}),e(I,{cols:"12",md:"4"},{default:l(()=>[e(G,{modelValue:a(y).password,"onUpdate:modelValue":r[2]||(r[2]=v=>a(y).password=v),rules:[P.required,P.min],hint:"At least 8 characters",type:a(i)?"text":"password","append-inner-icon":a(i)?"tabler-eye-off":"tabler-eye",label:"New Password","onClick:appendInner":r[3]||(r[3]=v=>i.value=!a(i))},null,8,["modelValue","rules","type","append-inner-icon"])]),_:1}),e(I,{cols:"12",md:"4"},{default:l(()=>[e(G,{modelValue:a(y).password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=v=>a(y).password_confirmation=v),type:a(d)?"text":"password","append-inner-icon":a(d)?"tabler-eye-off":"tabler-eye",label:"Confirm New Password","onClick:appendInner":r[5]||(r[5]=v=>d.value=!a(d))},null,8,["modelValue","type","append-inner-icon"])]),_:1})]),_:1})]),_:1}),e(ee,null,{default:l(()=>[La,B("ul",Ta,[(T(),Z(re,null,de(b,v=>B("li",{key:v,class:"password-item"},[B("span",Ea,[e(Y,{size:"8",icon:"tabler-circle",class:"me-3"})]),B("span",Ma,le(v),1)])),64))])]),_:1}),e(ee,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[e(E,{type:"submit",onClick:r[6]||(r[6]=v=>{var h;return(h=a(C))==null?void 0:h.validate()}),class:"securitybtnForMobileSize"},{default:l(()=>[Ga]),_:1}),e(E,{type:"reset",color:"secondary",variant:"tonal"},{default:l(()=>[Na]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}))}},qa=Ie(Oa,[["__scopeId","data-v-67cda228"]]);function $e(){const t=g(!1),o=useToast(),s=g(null),f=g(null),V=[{title:"#ID",key:"id"},{title:"Name",key:"name",sortable:!1},{title:"Description",key:"description",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],i=st({status:""}),d=g([]),b=g([]),_=g(10),y=g(0),C=g(1),P=g(1),$=[10,25,50,100],w=g(""),p=g("id"),r=g(!0),v=g(null),h=g({}),S=g({}),x=N(()=>{const n=d.value.length?(C.value-1)*_.value+1:0,c=d.value.length+(C.value-1)*_.value;return`Showing ${n} to ${c} of ${y.value} entries`}),u=()=>{f.value.refresh()},k=async n=>{try{t.value=!0;const c=await J.delete(Q("groups.destroy",n));s.value=c,o.success(c.data.message)}catch(c){console.log(c),o.error("Error! Deleting group")}finally{t.value=!1}},D=async n=>{const c=await J.get(Q("groups.show",n));h.value=c.data.data},F=async(n,c)=>{try{t.value=!0;const R=await J.put(Q("groups.update",n),c);s.value=R,o.success(R.data.message)}catch(R){R.response.status===422&&(S.value=R.response.data.errors),o.error(R.response.data.message)}finally{t.value=!1}},m=async n=>{t.value=!0,await J.post(Q("groups.store"),n).then(c=>{s.value=c,o.success(c.data.message)}).catch(c=>{s.value=c,c.response.status===422&&o.error(c.response.data.message)}).finally(()=>{t.value=!1})},z=async()=>{t.value=!0;try{const n=await J.get(Q("groups.index"),{params:{q:w.value,perPage:_.value,page:C.value,sortBy:p.value,sortDesc:r.value,...i}}),{total:c,last_page:R}=n.data.meta;P.value=R,d.value=n.data.data,y.value=c}catch(n){o.error(n.response.data.message)}finally{t.value=!1}},U=async n=>{t.value=!0;try{const c=await J.get(Q("groups.index"),{params:{...i}});d.value=c.data.data}catch(c){o.error(c.response.data.message)}finally{t.value=!1}},A=ta.debounce(()=>{z()},500);return _e(w,()=>{A()}),_e([C,_,i],()=>{z()}),{groupData:h,isLoading:t,errors:S,getGroup:D,groupId:v,sortBy:p,itemsPerPage:_,totalPages:P,filters:i,paginationData:x,respResult:s,groups:d,groupsByStatus:b,fetchGroups:z,deleteGroup:k,refetchData:u,updateGroup:F,currentPage:C,searchQuery:w,refListTable:f,totalRecords:y,headers:V,isSortDirDesc:r,perPageOptions:$,storeGroup:m,fetchGroupsList:U}}const ja={class:"d-flex"},Ha={class:"d-flex"},Xa={class:"d-flex flex-column justify-center gap-4"},Ya={class:"d-flex flex-wrap gap-2"},Wa=B("span",{class:"d-none d-sm-block"},"Upload Avatar",-1),Ja=B("span",{class:"d-none d-sm-block"},"Reset",-1),Qa=B("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 6MB ",-1),Ka={__name:"AddUser",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["refetchData","update:isDialogVisible"],setup(t,{emit:o}){const s=t,{storeUser:f,respResult:V,isBusy:i,errors:d}=Xe(),{isBusy:b,fetchRolesList:_,roles:y}=Ce(),{fetchGroupsList:C,groups:P,loading:$}=$e(),w=g(),p=g(""),r=g(""),v=g(!1),h={first_name:"",last_name:"",email:"",phone:"",address:"",password:"",password_confirmation:"",country:"",zip:"",state:"",role_id:""};ve(async()=>{s.isDialogVisible&&(await _(),await C())});const S=g({...h}),x=g(),u=()=>{S.value={...h},fe(()=>{var A,n;(A=w.value)==null||A.reset(),(n=w.value)==null||n.resetValidation()})},k=async()=>{var A;(A=w.value)==null||A.validate().then(async({valid:n})=>{if(n){const c=new FormData;for(const R in S.value)Object.hasOwnProperty.call(S.value,R)&&c.append(R,S.value[R]);p.value&&c.append("avatar",p.value),await f(c),V.value.status===200&&(o("refetchData"),o("update:isDialogVisible",!1),u())}})},D=()=>{u(),o("update:isDialogVisible",!1)},F=()=>{const n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let c="";for(let R=0,L=n.length;R<8;++R)c+=n.charAt(Math.floor(Math.random()*L));S.value.password=c,S.value.password_confirmation=c},m=A=>{const n=new FileReader,{files:c}=A.target;c&&c.length&&(n.readAsDataURL(c[0]),p.value=c[0],n.onload=()=>{typeof n.result=="string"&&(r.value=n.result)})},z=()=>{r.value="",p.value=""},U=A=>{o("update:isDialogVisible",A)};return(A,n)=>{const c=xe;return T(),O(De,{width:A.$vuetify.display.smAndDown?"auto":800,"model-value":s.isDialogVisible,"onUpdate:modelValue":U},{default:l(()=>[e(c,{onClick:n[0]||(n[0]=R=>U(!1))}),e(ie,{title:"Add New User"},{default:l(()=>[e(ee,null,{default:l(()=>[e(pe,{ref_key:"refForm",ref:w,onSubmit:ce(k,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).first_name,"onUpdate:modelValue":n[1]||(n[1]=R=>a(S).first_name=R),label:"First Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).last_name,"onUpdate:modelValue":n[2]||(n[2]=R=>a(S).last_name=R),label:"Last Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).email,"onUpdate:modelValue":n[3]||(n[3]=R=>a(S).email=R),label:"Email",rules:[a(H),a(je)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).phone,"onUpdate:modelValue":n[4]||(n[4]=R=>a(S).phone=R),label:"Phone",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[e(G,{modelValue:a(S).address,"onUpdate:modelValue":n[5]||(n[5]=R=>a(S).address=R),label:"Address",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).state,"onUpdate:modelValue":n[6]||(n[6]=R=>a(S).state=R),label:"State",name:"state"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).zip,"onUpdate:modelValue":n[7]||(n[7]=R=>a(S).zip=R),label:"Zip Code",name:"zip"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(Pe,{modelValue:a(S).role_id,"onUpdate:modelValue":n[8]||(n[8]=R=>a(S).role_id=R),label:"Role","item-title":"name","item-value":"id",items:a(y),loading:a(b),rules:[a(H)]},null,8,["modelValue","items","loading","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(Pe,{modelValue:a(S).group_id,"onUpdate:modelValue":n[9]||(n[9]=R=>a(S).group_id=R),label:"Group","item-title":"name","item-value":"id",items:a(P),loading:a($),rules:[a(H)]},null,8,["modelValue","items","loading","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[B("div",ja,[e(G,{modelValue:a(S).password,"onUpdate:modelValue":n[10]||(n[10]=R=>a(S).password=R),label:"Password",rules:[a(H)],"error-messages":a(d).password,type:a(v)?"text":"password","append-inner-icon":a(v)?"tabler-eye-off":"tabler-eye","onClick:appendInner":n[11]||(n[11]=R=>v.value=!a(v))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"]),e(E,{color:"primary",class:"ml-2",onClick:F},{default:l(()=>[e(Y,{icon:"tabler-refresh"})]),_:1})])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(S).password_confirmation,"onUpdate:modelValue":n[12]||(n[12]=R=>a(S).password_confirmation=R),label:"Confirm Password",rules:[a(H)],"error-messages":a(d).password_confirmation,type:a(v)?"text":"password","append-inner-icon":a(v)?"tabler-eye-off":"tabler-eye","onClick:appendInner":n[13]||(n[13]=R=>v.value=!a(v))},null,8,["modelValue","rules","error-messages","type","append-inner-icon"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[B("div",Ha,[e(ze,{rounded:"",size:"120",class:"me-6 border",image:a(r)},null,8,["image"]),B("div",Xa,[B("div",Ya,[e(E,{color:"primary",onClick:n[14]||(n[14]=R=>{var L;return(L=a(x))==null?void 0:L.click()})},{default:l(()=>[e(Y,{icon:"tabler-cloud-upload",class:"d-sm-none"}),Wa]),_:1}),B("input",{ref_key:"refInputEl",ref:x,type:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:m},null,544),e(E,{type:"button",color:"secondary",variant:"tonal",onClick:z},{default:l(()=>[Ja,e(Y,{icon:"tabler-refresh",class:"d-sm-none"})]),_:1})]),Qa])])]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4 justify-end"},{default:l(()=>[e(E,{type:"submit",loading:a(i),disabled:a(i),onClick:n[15]||(n[15]=R=>{var L;return(L=a(w))==null?void 0:L.validate()})},{default:l(()=>[K(" Submit ")]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",onClick:D},{default:l(()=>[K(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},Za={class:"d-flex"},el={class:"d-flex"},tl={class:"d-flex flex-column justify-center gap-4"},al={class:"d-flex flex-wrap gap-2"},ll=B("span",{class:"d-none d-sm-block"},"Upload Avatar",-1),sl=B("span",{class:"d-none d-sm-block"},"Reset",-1),ol=B("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 6MB ",-1),nl={__name:"EditUser",props:{isDialogVisible:{type:Boolean,required:!0},userId:{type:Number,required:!0}},emits:["refetchData","update:isDialogVisible"],setup(t,{emit:o}){const s=t,{updateUser:f,respResult:V,isBusy:i,errors:d,getUser:b,user:_}=Xe(),{isBusy:y,fetchRolesList:C,roles:P}=Ce(),{fetchGroupsList:$,groups:w,loading:p}=$e(),r=g(),v=g(),h=g({}),S=g({}),x=g(""),u=g(""),k=g(!1);ve(async()=>{var n,c;s.isDialogVisible&&(await C(),await $(),await b(s.userId),S.value={..._.value,role_id:(n=_.value.roles[0])==null?void 0:n.id},h.value={..._.value,role_id:(c=_.value.roles[0])==null?void 0:c.id},u.value=S.value.avatar_url)});const D=()=>{const c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let R="";for(let L=0,se=c.length;L<8;++L)R+=c.charAt(Math.floor(Math.random()*se));h.value.password=R,h.value.password_confirmation=R},F=()=>{h.value=S.value,o("update:isDialogVisible",!1)},m=async()=>{var n;(n=r.value)==null||n.validate().then(async({valid:c})=>{if(c){const R=new FormData;for(const L in h.value)h.value[L]&&R.append(L,h.value[L]);x.value&&R.append("avatar_new",x.value),R.append("_method","PUT"),await f(R,h.value.id),V.value.status===200&&(o("refetchData"),o("update:isDialogVisible",!1))}})},z=n=>{const c=new FileReader,{files:R}=n.target;R&&R.length&&(c.readAsDataURL(R[0]),x.value=R[0],c.onload=()=>{typeof c.result=="string"&&(u.value=c.result)})},U=()=>{u.value="",x.value=""},A=n=>{o("update:isDialogVisible",n)};return(n,c)=>{const R=xe;return T(),O(De,{width:n.$vuetify.display.smAndDown?"auto":800,"model-value":s.isDialogVisible,"onUpdate:modelValue":A},{default:l(()=>[e(R,{onClick:c[0]||(c[0]=L=>A(!1))}),e(ie,{title:"Update User"},{default:l(()=>[e(ee,null,{default:l(()=>[e(pe,{ref_key:"refForm",ref:r,onSubmit:ce(m,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).first_name,"onUpdate:modelValue":c[1]||(c[1]=L=>a(h).first_name=L),label:"First Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).last_name,"onUpdate:modelValue":c[2]||(c[2]=L=>a(h).last_name=L),label:"Last Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).email,"onUpdate:modelValue":c[3]||(c[3]=L=>a(h).email=L),label:"Email",rules:[a(H),a(je)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).phone,"onUpdate:modelValue":c[4]||(c[4]=L=>a(h).phone=L),label:"Phone",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[e(G,{modelValue:a(h).address,"onUpdate:modelValue":c[5]||(c[5]=L=>a(h).address=L),label:"Address"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).state,"onUpdate:modelValue":c[6]||(c[6]=L=>a(h).state=L),label:"State",name:"state"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).zip,"onUpdate:modelValue":c[7]||(c[7]=L=>a(h).zip=L),label:"Zip Code",name:"zip"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(Pe,{modelValue:a(h).role_id,"onUpdate:modelValue":c[8]||(c[8]=L=>a(h).role_id=L),label:"Role","item-title":"name","item-value":"id",items:a(P),loading:a(y),rules:[a(H)]},null,8,["modelValue","items","loading","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(Pe,{modelValue:a(h).group_id,"onUpdate:modelValue":c[9]||(c[9]=L=>a(h).group_id=L),label:"Group","item-title":"name","item-value":"id",items:a(w),loading:a(p),rules:[a(H)]},null,8,["modelValue","items","loading","rules"])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[B("div",Za,[e(G,{modelValue:a(h).password,"onUpdate:modelValue":c[10]||(c[10]=L=>a(h).password=L),label:"Password","error-messages":a(d).password,type:a(k)?"text":"password","append-inner-icon":a(k)?"tabler-eye-off":"tabler-eye","onClick:appendInner":c[11]||(c[11]=L=>k.value=!a(k))},null,8,["modelValue","error-messages","type","append-inner-icon"]),e(E,{color:"primary",class:"ml-2",onClick:D},{default:l(()=>[e(Y,{icon:"tabler-refresh"})]),_:1})])]),_:1}),e(I,{cols:"12",md:"6"},{default:l(()=>[e(G,{modelValue:a(h).password_confirmation,"onUpdate:modelValue":c[12]||(c[12]=L=>a(h).password_confirmation=L),label:"Confirm Password","error-messages":a(d).password_confirmation,type:a(k)?"text":"password","append-inner-icon":a(k)?"tabler-eye-off":"tabler-eye","onClick:appendInner":c[13]||(c[13]=L=>k.value=!a(k))},null,8,["modelValue","error-messages","type","append-inner-icon"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[B("div",el,[e(ze,{rounded:"",size:"120",class:"me-6 border",image:a(u)},null,8,["image"]),B("div",tl,[B("div",al,[e(E,{color:"primary",onClick:c[14]||(c[14]=L=>{var se;return(se=a(v))==null?void 0:se.click()})},{default:l(()=>[e(Y,{icon:"tabler-cloud-upload",class:"d-sm-none"}),ll]),_:1}),B("input",{ref_key:"refInputEl",ref:v,type:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:z},null,544),e(E,{type:"button",color:"secondary",variant:"tonal",onClick:U},{default:l(()=>[sl,e(Y,{icon:"tabler-refresh",class:"d-sm-none"})]),_:1})]),ol])])]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4 justify-end"},{default:l(()=>[e(E,{type:"submit",loading:a(i),disabled:a(i),onClick:c[15]||(c[15]=L=>{var se;return(se=a(r))==null?void 0:se.validate()})},{default:l(()=>[K(" Submit ")]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",onClick:F},{default:l(()=>[K(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}};const il={key:1,class:"text-grey text-caption align-self-center"},ul=["href"],rl={class:"text-capitalize text-base"},dl=["href"],cl={class:"d-flex align-center justify-space-between"},fl={class:"d-flex flex-column"},vl={class:"text-base"},ml={class:"text-sm text-disabled"},pl=["href"],gl={__name:"AccountSettingsUsers",setup(t){const{fetchUsers:o,users:s,headers:f,searchQuery:V,itemsPerPage:i,currentPage:d,deleteUser:b,resolveUserRoleVariant:_,isBusy:y,totalRecords:C}=Xe(),P=g(""),$=g(!1),w=g(!1),p=g(!1),r=g(!1),v=g([]),h=g([]);ve(()=>{window.innerWidth<768&&(h.value=f.slice(0,1),r.value=!0),o()});const S=()=>{const F=JSON.parse(localStorage.getItem("estimates.table"));F?h.value=F.filter(m=>m.visible===!0):h.value=f};S();const x=async F=>{f.forEach(m=>{m.visible=F.includes(m.title)}),localStorage.setItem("estimates.table",JSON.stringify(f)),S()},u=F=>{P.value=F,p.value=!0},k=async F=>{F&&(await b(P.value),o())},D=F=>{P.value=F,$.value=!0};return(F,m)=>{const z=aa,U=ft("IconBtn"),A=He;return T(),Z("section",null,[e(te,null,{default:l(()=>[e(I,{cols:"12"},{default:l(()=>[e(ie,{title:"Users"},{default:l(()=>[e(ee,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{lg:"3",md:"3",sm:"3",cols:"12"},{default:l(()=>[a(me).can("Create","settings-users-create")?(T(),O(E,{key:0,"prepend-icon":"tabler-plus",onClick:m[0]||(m[0]=n=>w.value=!0)},{default:l(()=>[K(" Add New User ")]),_:1})):W("",!0)]),_:1}),e(I,{lg:"3",md:"6",sm:"8",cols:"12"},{default:l(()=>[e(z,{modelValue:a(h),"onUpdate:modelValue":[m[1]||(m[1]=n=>j(h)?h.value=n:null),x],multiple:"",eager:"",items:a(f)},{selection:l(({item:n,index:c})=>[c<4?(T(),O(bt,{key:0},{default:l(()=>[B("span",null,le(n.title),1)]),_:2},1024)):W("",!0),c===4?(T(),Z("span",il," (+"+le(a(h).length-4)+" others) ",1)):W("",!0)]),_:1},8,["modelValue","items"])]),_:1}),e(I,{lg:"3",md:"3",sm:"3",cols:"12"},{default:l(()=>[e(G,{modelValue:a(V),"onUpdate:modelValue":m[2]||(m[2]=n=>j(V)?V.value=n:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ye),e(a(gt),{modelValue:a(v),"onUpdate:modelValue":m[3]||(m[3]=n=>j(v)?v.value=n:null),"items-per-page":a(i),"onUpdate:itemsPerPage":m[4]||(m[4]=n=>j(i)?i.value=n:null),page:a(d),"onUpdate:page":m[5]||(m[5]=n=>j(d)?d.value=n:null),loading:a(y),"items-length":a(C),headers:a(h),items:a(s),class:"text-no-wrap"},{"item.email":l(({item:n})=>[B("a",{href:`mailto:${n.raw.customer.email}`,class:"text-decoration-none"},le(n.raw.customer.email),9,ul)]),"item.role":l(({item:n})=>{var c,R,L;return[e(ze,{color:a(_)((c=n.raw.roles[0])==null?void 0:c.name).color,icon:a(_)((R=n.raw.roles[0])==null?void 0:R.name).icon,variant:"tonal",size:"30",class:"me-4"},null,8,["color","icon"]),B("span",rl,le((L=n.raw.roles[0])==null?void 0:L.name),1)]}),"item.phone":l(({item:n})=>[B("a",{href:`tel:${n.raw.phone}`,class:"text-decoration-none"},le(n.raw.phone),9,dl)]),"item.name":l(({item:n})=>[B("div",cl,[B("div",fl,[B("h6",vl,le(n.raw.name),1),B("span",ml,[B("a",{href:`mailto:${n.raw.email}`,class:"text-decoration-none"},le(n.raw.email),9,pl)])]),a(r)?(T(),O(U,{key:0,onClick:c=>u(n.raw.id)},{default:l(()=>[e(Y,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])):W("",!0)])]),"item.actions":l(({item:n})=>[a(me).can("Delete","settings-users-delete")?(T(),O(E,{key:0,icon:"",variant:"text",color:"default",size:"x-small",onClick:c=>D(n.raw.id)},{default:l(()=>[e(Y,{size:"22",icon:"tabler-trash"})]),_:2},1032,["onClick"])):W("",!0),a(me).can("Update","settings-users-edit")?(T(),O(E,{key:1,icon:"",variant:"text",color:"default",size:"x-small",onClick:c=>u(n.raw.id)},{default:l(()=>[e(Y,{size:"22",icon:"tabler-pencil"})]),_:2},1032,["onClick"])):W("",!0)]),_:1},8,["modelValue","items-per-page","page","loading","items-length","headers","items"])]),_:1})]),_:1})]),_:1}),a(w)?(T(),O(Ka,{key:0,isDialogVisible:a(w),"onUpdate:isDialogVisible":m[6]||(m[6]=n=>j(w)?w.value=n:null),onRefetchData:a(o)},null,8,["isDialogVisible","onRefetchData"])):W("",!0),a(p)?(T(),O(nl,{key:1,isDialogVisible:a(p),"onUpdate:isDialogVisible":m[7]||(m[7]=n=>j(p)?p.value=n:null),"user-id":a(P),onRefetchData:a(o)},null,8,["isDialogVisible","user-id","onRefetchData"])):W("",!0),e(A,{isDialogVisible:a($),"onUpdate:isDialogVisible":m[8]||(m[8]=n=>j($)?$.value=n:null),"cancel-title":"Cancelled","confirm-title":"Deleted","confirm-msg":"role deleted successfully.","confirmation-question":"Are you sure you want to delete user, This action is irreversible?","cancel-msg":"user deletion cancelled.",onConfirm:k},null,8,["isDialogVisible"])])}}},bl=Ie(gl,[["__scopeId","data-v-83967912"]]),yl={__name:"Add",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["refetchData","update:isDialogVisible"],setup(t,{emit:o}){const s=t,{storeGroup:f,respResult:V,isBusy:i,errors:d}=$e(),b=g(),_={name:"",description:""},y=g({..._}),C=()=>{y.value={..._},fe(()=>{var p,r;(p=b.value)==null||p.reset(),(r=b.value)==null||r.resetValidation()})},P=async()=>{var p;(p=b.value)==null||p.validate().then(async({valid:r})=>{r&&(await f(y.value),V.value.status===201&&(o("refetchData"),o("update:isDialogVisible",!1),C()))})},$=()=>{C(),o("update:isDialogVisible",!1)},w=p=>{o("update:isDialogVisible",p)};return(p,r)=>{const v=xe;return T(),O(De,{width:p.$vuetify.display.smAndDown?"auto":800,"model-value":s.isDialogVisible,"onUpdate:modelValue":w},{default:l(()=>[e(v,{onClick:r[0]||(r[0]=h=>w(!1))}),e(ie,{title:"Add New Group"},{default:l(()=>[e(ee,null,{default:l(()=>[e(pe,{ref_key:"refForm",ref:b,onSubmit:ce(P,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{cols:"12",md:"12"},{default:l(()=>[e(G,{modelValue:a(y).name,"onUpdate:modelValue":r[1]||(r[1]=h=>a(y).name=h),label:"Group Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[e(yt,{modelValue:a(y).description,"onUpdate:modelValue":r[2]||(r[2]=h=>a(y).description=h),clearable:"","clear-icon":"tabler-circle-x",label:"Description"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4 justify-end"},{default:l(()=>[e(E,{type:"submit",loading:a(i),disabled:a(i),onClick:r[3]||(r[3]=h=>{var S;return(S=a(b))==null?void 0:S.validate()})},{default:l(()=>[K(" Add New ")]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",onClick:$},{default:l(()=>[K(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},_l={__name:"Edit",props:{isDialogVisible:{type:Boolean,required:!0},groupId:{type:Number,required:!0}},emits:["refetchData","update:isDialogVisible"],setup(t,{emit:o}){const s=t,{updateGroup:f,respResult:V,isBusy:i,errors:d,getGroup:b,groupData:_}=$e(),y=g(),C=g({});ve(async()=>{s.isDialogVisible&&(await b(s.groupId),C.value={name:_.value.name,description:_.value.description})});const P=()=>{C.value={name:_.value.name,description:_.value.description},fe(()=>{var r,v;(r=y.value)==null||r.reset(),(v=y.value)==null||v.resetValidation()})},$=async()=>{var r;(r=y.value)==null||r.validate().then(async({valid:v})=>{v&&(await f(s.groupId,C.value),V.value.status===200&&(o("refetchData"),o("update:isDialogVisible",!1)))})},w=()=>{P(),o("update:isDialogVisible",!1)},p=r=>{o("update:isDialogVisible",r)};return(r,v)=>{const h=xe;return T(),O(De,{width:r.$vuetify.display.smAndDown?"auto":800,"model-value":s.isDialogVisible,"onUpdate:modelValue":p},{default:l(()=>[e(h,{onClick:v[0]||(v[0]=S=>p(!1))}),a(_)&&!a(i)?(T(),O(ie,{key:0,title:"Update Group"},{default:l(()=>[e(ee,null,{default:l(()=>[e(pe,{ref_key:"refForm",ref:y,onSubmit:ce($,["prevent"])},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{cols:"12",md:"12"},{default:l(()=>[e(G,{modelValue:a(C).name,"onUpdate:modelValue":v[1]||(v[1]=S=>a(C).name=S),label:"Group Name",rules:[a(H)]},null,8,["modelValue","rules"])]),_:1}),e(I,{cols:"12",md:"12"},{default:l(()=>[e(yt,{modelValue:a(C).description,"onUpdate:modelValue":v[2]||(v[2]=S=>a(C).description=S),clearable:"","clear-icon":"tabler-circle-x",label:"Description"},null,8,["modelValue"])]),_:1}),e(I,{cols:"12",class:"d-flex flex-wrap gap-4 justify-end"},{default:l(()=>[e(E,{type:"submit",loading:a(i),disabled:a(i),onClick:v[3]||(v[3]=S=>{var x;return(x=a(y))==null?void 0:x.validate()})},{default:l(()=>[K(" Update Group ")]),_:1},8,["loading","disabled"]),e(E,{color:"secondary",variant:"tonal",onClick:w},{default:l(()=>[K(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})):W("",!0)]),_:1},8,["width","model-value"])}}},Vl={class:"me-3 d-flex gap-3"},hl={__name:"AccountSettingsGroups",setup(t){const{groups:o,totalRecords:s,isLoading:f,fetchGroups:V,currentPage:i,headers:d,deleteGroup:b,itemsPerPage:_,searchQuery:y,paginationData:C}=$e(),P=g([]),$=g(!1),w=g(!1),p=g(!1),r=g(0);ve(async()=>{await V()});const v=x=>{r.value=x,$.value=!0},h=x=>{p.value=!0,r.value=x},S=async x=>{if(x===!1){p.value=!1;return}await b(r.value),p.value=!1,await V()};return(x,u)=>{const k=sa,D=ft("IconBtn"),F=He;return a(o)?(T(),O(ie,{key:0,id:"invoice-list"},{default:l(()=>[e(ee,{class:"d-flex align-center flex-wrap gap-4"},{default:l(()=>[e(te,null,{default:l(()=>[e(I,{lg:"3",md:"3",sm:"3",cols:"12"},{default:l(()=>[B("div",Vl,[e(E,{"prepend-icon":"tabler-plus",onClick:u[0]||(u[0]=m=>w.value=!0)},{default:l(()=>[K(" Create Group ")]),_:1})])]),_:1}),e(oa),e(I,{lg:"3",md:"3",sm:"4"},{default:l(()=>[e(k,{modelValue:a(y),"onUpdate:modelValue":u[1]||(u[1]=m=>j(y)?y.value=m:null),placeholder:"Search Groups",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ye),e(a(gt),{modelValue:a(P),"onUpdate:modelValue":u[2]||(u[2]=m=>j(P)?P.value=m:null),"items-per-page":a(_),"onUpdate:itemsPerPage":u[3]||(u[3]=m=>j(_)?_.value=m:null),page:a(i),"onUpdate:page":u[4]||(u[4]=m=>j(i)?i.value=m:null),loading:a(f),"items-length":a(s),headers:a(d),items:a(o),class:"text-no-wrap"},{"item.actions":l(({item:m})=>[e(D,{onClick:z=>h(m.raw.id)},{default:l(()=>[e(Y,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(D,{onClick:z=>v(m.raw.id)},{default:l(()=>[e(Y,{icon:"tabler-pencil"})]),_:2},1032,["onClick"])]),_:1},8,["modelValue","items-per-page","page","loading","items-length","headers","items"]),a(w)?(T(),O(yl,{key:0,isDialogVisible:a(w),"onUpdate:isDialogVisible":u[5]||(u[5]=m=>j(w)?w.value=m:null),"group-id":a(r),onRefetchData:a(V)},null,8,["isDialogVisible","group-id","onRefetchData"])):W("",!0),a($)?(T(),O(_l,{key:1,isDialogVisible:a($),"onUpdate:isDialogVisible":u[6]||(u[6]=m=>j($)?$.value=m:null),"group-id":a(r),onRefetchData:a(V)},null,8,["isDialogVisible","group-id","onRefetchData"])):W("",!0),e(F,{isDialogVisible:a(p),"onUpdate:isDialogVisible":u[7]||(u[7]=m=>j(p)?p.value=m:null),"cancel-title":"Cancelled","confirm-title":"Deleted","confirm-msg":"Group deleted successfully.","confirmation-question":"Are you sure you want to delete this group? This action cannot be undone.","cancel-msg":"Group deletion cancelled.",onConfirm:S},null,8,["isDialogVisible"])]),_:1})):W("",!0)}}},et={};const Dt=Symbol.for("vuetify:v-tabs"),wl=Ve({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Et(Mt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),kt=he()({name:"VTab",props:wl(),setup(t,o){let{slots:s,attrs:f}=o;const{textColorClasses:V,textColorStyles:i}=Gt(t,"sliderColor"),d=N(()=>t.direction==="horizontal"),b=ne(!1),_=g(),y=g();function C(P){var w,p;let{value:$}=P;if(b.value=$,$){const r=(p=(w=_.value)==null?void 0:w.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),v=y.value;if(!r||!v)return;const h=getComputedStyle(r).color,S=r.getBoundingClientRect(),x=v.getBoundingClientRect(),u=d.value?"x":"y",k=d.value?"X":"Y",D=d.value?"right":"bottom",F=d.value?"width":"height",m=S[u],z=x[u],U=m>z?S[D]-x[D]:S[u]-x[u],A=Math.sign(U)>0?d.value?"right":"bottom":Math.sign(U)<0?d.value?"left":"top":"center",c=(Math.abs(U)+(Math.sign(U)<0?S[F]:x[F]))/Math.max(S[F],x[F]),R=S[F]/x[F],L=1.5;na(v,{backgroundColor:[h,""],transform:[`translate${k}(${U}px) scale${k}(${R})`,`translate${k}(${U/L}px) scale${k}(${(c-1)/L+1})`,""],transformOrigin:Array(3).fill(A)},{duration:225,easing:ia})}}return we(()=>{const[P]=E.filterProps(t);return e(E,ue({symbol:Dt,ref:_,class:["v-tab",t.class],style:t.style,tabindex:b.value?0:-1,role:"tab","aria-selected":String(b.value),active:!1,block:t.fixed,maxWidth:t.fixed?300:void 0,rounded:0},P,f,{"onGroup:selected":C}),{default:()=>{var $;return[(($=s.default)==null?void 0:$.call(s))??t.text,!t.hideSlider&&e("div",{ref:y,class:["v-tab__slider",V.value],style:i.value},null)]}})}),{}}});function tt(t){const s=Math.abs(t);return Math.sign(t)*(s/((1/.501-2)*(1-s)+1))}function at(t){let{selectedElement:o,containerSize:s,contentSize:f,isRtl:V,currentScrollOffset:i,isHorizontal:d}=t;const b=d?o.clientWidth:o.clientHeight,_=d?o.offsetLeft:o.offsetTop,y=V&&d?f-_-b:_,C=s+i,P=b+y,$=b*.4;return y<=i?i=Math.max(y-$,0):C<=P&&(i=Math.min(i-(C-P-$),f-s)),i}function xl(t){let{selectedElement:o,containerSize:s,contentSize:f,isRtl:V,isHorizontal:i}=t;const d=i?o.clientWidth:o.clientHeight,b=i?o.offsetLeft:o.offsetTop,_=V&&i?f-b-d/2-s/2:b+d/2-s/2;return Math.min(f-s,Math.max(0,_))}const Dl=Symbol.for("vuetify:v-slide-group"),St=Ve({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Dl},nextIcon:{type:be,default:"$next"},prevIcon:{type:be,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Be(),...Fe(),...Nt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),lt=he()({name:"VSlideGroup",props:St(),emits:{"update:modelValue":t=>!0},setup(t,o){let{slots:s}=o;const{isRtl:f}=Oe(),{mobile:V}=dt(),i=vt(t,t.symbol),d=ne(!1),b=ne(0),_=ne(0),y=ne(0),C=N(()=>t.direction==="horizontal"),{resizeRef:P,contentRect:$}=Ee(),{resizeRef:w,contentRect:p}=Ee(),r=N(()=>i.selected.value.length?i.items.value.findIndex(M=>M.id===i.selected.value[0]):-1),v=N(()=>i.selected.value.length?i.items.value.findIndex(M=>M.id===i.selected.value[i.selected.value.length-1]):-1);if(Ot){let M=-1;_e(()=>[i.selected.value,$.value,p.value,C.value],()=>{cancelAnimationFrame(M),M=requestAnimationFrame(()=>{if($.value&&p.value){const q=C.value?"width":"height";_.value=$.value[q],y.value=p.value[q],d.value=_.value+1<y.value}if(r.value>=0&&w.value){const q=w.value.children[v.value];r.value===0||!d.value?b.value=0:t.centerActive?b.value=xl({selectedElement:q,containerSize:_.value,contentSize:y.value,isRtl:f.value,isHorizontal:C.value}):d.value&&(b.value=at({selectedElement:q,containerSize:_.value,contentSize:y.value,isRtl:f.value,currentScrollOffset:b.value,isHorizontal:C.value}))}})})}const h=ne(!1);let S=0,x=0;function u(M){const q=C.value?"clientX":"clientY";x=(f.value&&C.value?-1:1)*b.value,S=M.touches[0][q],h.value=!0}function k(M){if(!d.value)return;const q=C.value?"clientX":"clientY",oe=f.value&&C.value?-1:1;b.value=oe*(x+S-M.touches[0][q])}function D(M){const q=y.value-_.value;b.value<0||!d.value?b.value=0:b.value>=q&&(b.value=q),h.value=!1}function F(){P.value&&(P.value[C.value?"scrollLeft":"scrollTop"]=0)}const m=ne(!1);function z(M){if(m.value=!0,!(!d.value||!w.value)){for(const q of M.composedPath())for(const oe of w.value.children)if(oe===q){b.value=at({selectedElement:oe,containerSize:_.value,contentSize:y.value,isRtl:f.value,currentScrollOffset:b.value,isHorizontal:C.value});return}}}function U(M){m.value=!1}function A(M){var q;!m.value&&!(M.relatedTarget&&((q=w.value)!=null&&q.contains(M.relatedTarget)))&&c()}function n(M){w.value&&(C.value?M.key==="ArrowRight"?c(f.value?"prev":"next"):M.key==="ArrowLeft"&&c(f.value?"next":"prev"):M.key==="ArrowDown"?c("next"):M.key==="ArrowUp"&&c("prev"),M.key==="Home"?c("first"):M.key==="End"&&c("last"))}function c(M){var q,oe,We,Je,Qe;if(w.value)if(!M)(q=qt(w.value)[0])==null||q.focus();else if(M==="next"){const ge=(oe=w.value.querySelector(":focus"))==null?void 0:oe.nextElementSibling;ge?ge.focus():c("first")}else if(M==="prev"){const ge=(We=w.value.querySelector(":focus"))==null?void 0:We.previousElementSibling;ge?ge.focus():c("last")}else M==="first"?(Je=w.value.firstElementChild)==null||Je.focus():M==="last"&&((Qe=w.value.lastElementChild)==null||Qe.focus())}function R(M){const q=b.value+(M==="prev"?-1:1)*_.value;b.value=jt(q,0,y.value-_.value)}const L=N(()=>{let M=b.value>y.value-_.value?-(y.value-_.value)+tt(y.value-_.value-b.value):-b.value;b.value<=0&&(M=tt(-b.value));const q=f.value&&C.value?-1:1;return{transform:`translate${C.value?"X":"Y"}(${q*M}px)`,transition:h.value?"none":"",willChange:h.value?"transform":""}}),se=N(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),Le=N(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!V.value;case!0:return d.value||Math.abs(b.value)>0;case"mobile":return V.value||d.value||Math.abs(b.value)>0;default:return!V.value&&(d.value||Math.abs(b.value)>0)}}),Pt=N(()=>Math.abs(b.value)>0),Ut=N(()=>y.value>Math.abs(b.value)+_.value);return we(()=>e(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":Le.value,"v-slide-group--is-overflowing":d.value},t.class],style:t.style,tabindex:m.value||i.selected.value.length?-1:0,onFocus:A},{default:()=>{var M,q,oe;return[Le.value&&e("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Pt.value}],onClick:()=>R("prev")},[((M=s.prev)==null?void 0:M.call(s,se.value))??e(Ze,null,{default:()=>[e(Y,{icon:f.value?t.nextIcon:t.prevIcon},null)]})]),e("div",{key:"container",ref:P,class:"v-slide-group__container",onScroll:F},[e("div",{ref:w,class:"v-slide-group__content",style:L.value,onTouchstartPassive:u,onTouchmovePassive:k,onTouchendPassive:D,onFocusin:z,onFocusout:U,onKeydown:n},[(q=s.default)==null?void 0:q.call(s,se.value)])]),Le.value&&e("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Ut.value}],onClick:()=>R("next")},[((oe=s.next)==null?void 0:oe.call(s,se.value))??e(Ze,null,{default:()=>[e(Y,{icon:f.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:R,scrollOffset:b,focus:c}}});function kl(t){return t?t.map(o=>typeof o=="string"?{title:o,value:o}:o):[]}const Sl=Ve({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...St({mandatory:"force"}),...ot(),...Fe()},"VTabs"),Cl=he()({name:"VTabs",props:Sl(),emits:{"update:modelValue":t=>!0},setup(t,o){let{slots:s}=o;const f=it(t,"modelValue"),V=N(()=>kl(t.items)),{densityClasses:i}=Ht(t),{backgroundColorClasses:d,backgroundColorStyles:b}=Xt(ae(t,"bgColor"));return Te({VTab:{color:ae(t,"color"),direction:ae(t,"direction"),stacked:ae(t,"stacked"),fixed:ae(t,"fixedTabs"),sliderColor:ae(t,"sliderColor"),hideSlider:ae(t,"hideSlider")}}),we(()=>{const[_]=lt.filterProps(t);return e(lt,ue(_,{modelValue:f.value,"onUpdate:modelValue":y=>f.value=y,class:["v-tabs",`v-tabs--${t.direction}`,`v-tabs--align-tabs-${t.alignTabs}`,{"v-tabs--fixed-tabs":t.fixedTabs,"v-tabs--grow":t.grow,"v-tabs--stacked":t.stacked},i.value,d.value,t.class],style:[{"--v-tabs-height":Me(t.height)},b.value,t.style],role:"tablist",symbol:Dt}),{default:()=>[s.default?s.default():V.value.map(y=>e(kt,ue(y,{key:y.title}),null))]})}),{}}});const $l=t=>{const{touchstartX:o,touchendX:s,touchstartY:f,touchendY:V}=t,i=.5,d=16;t.offsetX=s-o,t.offsetY=V-f,Math.abs(t.offsetY)<i*Math.abs(t.offsetX)&&(t.left&&s<o-d&&t.left(t),t.right&&s>o+d&&t.right(t)),Math.abs(t.offsetX)<i*Math.abs(t.offsetY)&&(t.up&&V<f-d&&t.up(t),t.down&&V>f+d&&t.down(t))};function Rl(t,o){var f;const s=t.changedTouches[0];o.touchstartX=s.clientX,o.touchstartY=s.clientY,(f=o.start)==null||f.call(o,{originalEvent:t,...o})}function Pl(t,o){var f;const s=t.changedTouches[0];o.touchendX=s.clientX,o.touchendY=s.clientY,(f=o.end)==null||f.call(o,{originalEvent:t,...o}),$l(o)}function Ul(t,o){var f;const s=t.changedTouches[0];o.touchmoveX=s.clientX,o.touchmoveY=s.clientY,(f=o.move)==null||f.call(o,{originalEvent:t,...o})}function Al(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:s=>Rl(s,o),touchend:s=>Pl(s,o),touchmove:s=>Ul(s,o)}}function Il(t,o){var b;const s=o.value,f=s!=null&&s.parent?t.parentElement:t,V=(s==null?void 0:s.options)??{passive:!0},i=(b=o.instance)==null?void 0:b.$.uid;if(!f||!i)return;const d=Al(o.value);f._touchHandlers=f._touchHandlers??Object.create(null),f._touchHandlers[i]=d,mt(d).forEach(_=>{f.addEventListener(_,d[_],V)})}function Bl(t,o){var i,d;const s=(i=o.value)!=null&&i.parent?t.parentElement:t,f=(d=o.instance)==null?void 0:d.$.uid;if(!(s!=null&&s._touchHandlers)||!f)return;const V=s._touchHandlers[f];mt(V).forEach(b=>{s.removeEventListener(b,V[b])}),delete s._touchHandlers[f]}const Ct={mounted:Il,unmounted:Bl},Fl=Ct,$t=Symbol.for("vuetify:v-window"),Rt=Symbol.for("vuetify:v-window-group"),zl=Ve({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||t==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Be(),...Fe(),...nt()},"VWindow"),Ll=he()({name:"VWindow",directives:{Touch:Ct},props:zl(),emits:{"update:modelValue":t=>!0},setup(t,o){let{slots:s}=o;const{themeClasses:f}=rt(t),{isRtl:V}=Oe(),{t:i}=ut(),d=vt(t,Rt),b=g(),_=N(()=>V.value?!t.reverse:t.reverse),y=ne(!1),C=N(()=>{const u=t.direction==="vertical"?"y":"x",D=(_.value?!y.value:y.value)?"-reverse":"";return`v-window-${u}${D}-transition`}),P=ne(0),$=g(void 0),w=N(()=>d.items.value.findIndex(u=>d.selected.value.includes(u.id)));_e(w,(u,k)=>{const D=d.items.value.length,F=D-1;D<=2?y.value=u<k:u===F&&k===0?y.value=!0:u===0&&k===F?y.value=!1:y.value=u<k}),Yt($t,{transition:C,isReversed:y,transitionCount:P,transitionHeight:$,rootRef:b});const p=N(()=>t.continuous||w.value!==0),r=N(()=>t.continuous||w.value!==d.items.value.length-1);function v(){p.value&&d.prev()}function h(){r.value&&d.next()}const S=N(()=>{const u=[],k={icon:V.value?t.nextIcon:t.prevIcon,class:`v-window__${_.value?"right":"left"}`,onClick:d.prev,ariaLabel:i("$vuetify.carousel.prev")};u.push(p.value?s.prev?s.prev({props:k}):e(E,k,null):e("div",null,null));const D={icon:V.value?t.prevIcon:t.nextIcon,class:`v-window__${_.value?"left":"right"}`,onClick:d.next,ariaLabel:i("$vuetify.carousel.next")};return u.push(r.value?s.next?s.next({props:D}):e(E,D,null):e("div",null,null)),u}),x=N(()=>t.touch===!1?t.touch:{...{left:()=>{_.value?v():h()},right:()=>{_.value?h():v()},start:k=>{let{originalEvent:D}=k;D.stopPropagation()}},...t.touch===!0?{}:t.touch});return we(()=>qe(e(t.tag,{ref:b,class:["v-window",{"v-window--show-arrows-on-hover":t.showArrows==="hover"},f.value,t.class],style:t.style},{default:()=>{var u,k;return[e("div",{class:"v-window__container",style:{height:$.value}},[(u=s.default)==null?void 0:u.call(s,{group:d}),t.showArrows!==!1&&e("div",{class:"v-window__controls"},[S.value])]),(k=s.additional)==null?void 0:k.call(s,{group:d})]}}),[[Wt("touch"),x.value]])),{group:d}}}),Tl=Ve({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...Jt(),...ua()},"VWindowItem"),ke=he()({name:"VWindowItem",directives:{Touch:Fl},props:Tl(),emits:{"group:selected":t=>!0},setup(t,o){let{slots:s}=o;const f=Qt($t),V=Kt(t,Rt),{isBooted:i}=la();if(!f||!V)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const d=ne(!1),b=N(()=>i.value&&(f.isReversed.value?t.reverseTransition!==!1:t.transition!==!1));function _(){!d.value||!f||(d.value=!1,f.transitionCount.value>0&&(f.transitionCount.value-=1,f.transitionCount.value===0&&(f.transitionHeight.value=void 0)))}function y(){var p;d.value||!f||(d.value=!0,f.transitionCount.value===0&&(f.transitionHeight.value=Me((p=f.rootRef.value)==null?void 0:p.clientHeight)),f.transitionCount.value+=1)}function C(){_()}function P(p){d.value&&fe(()=>{!b.value||!d.value||!f||(f.transitionHeight.value=Me(p.clientHeight))})}const $=N(()=>{const p=f.isReversed.value?t.reverseTransition:t.transition;return b.value?{name:typeof p!="string"?f.transition.value:p,onBeforeEnter:y,onAfterEnter:_,onEnterCancelled:C,onBeforeLeave:y,onAfterLeave:_,onLeaveCancelled:C,onEnter:P}:!1}),{hasContent:w}=ra(t,V.isSelected);return we(()=>e(da,{transition:$.value,disabled:!i.value},{default:()=>{var p;return[qe(e("div",{class:["v-window-item",V.selectedClass.value,t.class],style:t.style},[w.value&&((p=s.default)==null?void 0:p.call(s))]),[[ct,V.isSelected.value]])]}})),{}}}),El={__name:"Index",setup(t){const o=Zt(),s=g(o.params.tab),f=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"},{title:"Groups",icon:"tabler-users",tab:"groups"}];return me.can("Read","settings-users-list")&&f.push({title:"Users",icon:"tabler-users",tab:"users"}),me.can("Read","settings-roles-list")&&f.push({title:"Roles",icon:"tabler-lock",tab:"roles"}),(V,i)=>(T(),Z("div",null,[e(Cl,{modelValue:a(s),"onUpdate:modelValue":i[0]||(i[0]=d=>j(s)?s.value=d:null),"show-arrows":""},{default:l(()=>[(T(),Z(re,null,de(f,d=>e(kt,{key:d.icon,value:d.tab,to:{name:"account-settings",params:{tab:d.tab}}},{default:l(()=>[e(Y,{size:"20",start:"",icon:d.icon},null,8,["icon"]),K(" "+le(d.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),e(Ll,{modelValue:a(s),"onUpdate:modelValue":i[1]||(i[1]=d=>j(s)?s.value=d:null),class:"mt-6 disable-tab-transition",touch:!1},{default:l(()=>[e(ke,{value:"account"},{default:l(()=>[e(_a)]),_:1}),e(ke,{value:"security"},{default:l(()=>[e(qa)]),_:1}),e(ke,{value:"groups"},{default:l(()=>[e(hl)]),_:1}),e(ke,{value:"users"},{default:l(()=>[e(bl)]),_:1}),e(ke,{value:"roles"},{default:l(()=>[e(za)]),_:1})]),_:1},8,["modelValue"])]))}};typeof et=="function"&&et(El);export{El as default};

import{aB as e,cr as o}from"./main-70b82271.js";import{l as r,a as c}from"./index-628b2924.js";function y(){const l=e({}),s=e(!1),n=e({}),u=e({});return{isLoading:s,errors:n,respResult:u,accountData:l,fetchAccount:async()=>{const t=await o.get(r("account"));l.value=t.data.data},updateAccount:async t=>{try{s.value=!0;const a=await o.post(r("account.personal"),t);u.value=a;const{name:d,avatar_url:p}=a.data.data;localStorage.removeItem("userData"),localStorage.setItem("userData",JSON.stringify({name:d,avatar_url:p})),c.success(a.data.message)}catch(a){console.log(a),a.response.status===422&&(n.value=a.response.data.errors),c.error(a.response.data.message)}finally{s.value=!1}},updatePassword:async t=>{try{s.value=!0;const a=await o.put(r("account.password"),t);u.value=a,c.success(a.data.message)}catch(a){a.response.status===422&&(n.value=a.response.data.errors),c.error(a.response.data.message)}finally{s.value=!1}},fetchDashboardStats:async()=>await o.get(r("dashboard.stats"))}}export{y as u};

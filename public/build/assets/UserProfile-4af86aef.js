import{at as s,n as r,bk as t,y as e,b0 as a,by as u,cf as l,cv as k,cs as x,cu as i,bw as f,ct as c,x as n,aU as d,cB as S,cg as A,cc as I,bF as w,cF as L,cG as U}from"./main-70b82271.js";import{u as D}from"./useAppAbility-771d97f7.js";import{u as B}from"./auth-0d8fd70d.js";import{V as N}from"./VListItemAction-fb3e3a37.js";import{V as m}from"./VBadge-16d7b46f.js";import"./index-628b2924.js";const $={__name:"UserProfile",setup(P){const{logout:p}=B(),_=w(),{removeToken:g,removeUserData:b,removeUserAbilities:v,getUser:T}=U(),y=D(),V=()=>{g(),b(),v()},o=JSON.parse(localStorage.getItem("userData")||"null"),h=()=>{p().then(()=>{V(),y.update(L),_.push({name:"login"})})};return(z,C)=>(s(),r(m,{dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(f,{class:"cursor-pointer",color:a(o)&&a(o).avatar?void 0:"primary",variant:a(o)&&a(o).avatar?void 0:"tonal"},{default:t(()=>[a(o)&&a(o).avatar?(s(),r(u,{key:0,src:a(o).avatar},null,8,["src"])):(s(),r(l,{key:1,icon:"tabler-user"})),e(k,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(x,null,{default:t(()=>[e(i,null,{prepend:t(()=>[e(N,{start:""},{default:t(()=>[e(m,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:t(()=>[e(f,{color:a(o)&&a(o).avatar?void 0:"primary",variant:a(o)&&a(o).avatar?void 0:"tonal"},{default:t(()=>[a(o)&&a(o).avatar?(s(),r(u,{key:0,src:a(o).avatar},null,8,["src"])):(s(),r(l,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1})]),default:t(()=>[e(c,{class:"font-weight-medium"},{default:t(()=>[n(d(a(o).name),1)]),_:1}),e(S,null,{default:t(()=>[n(d(a(o).role),1)]),_:1})]),_:1}),e(a(A),{options:{wheelPropagation:!1}},{default:t(()=>[e(i,{to:{name:"settings-account"}},{prepend:t(()=>[e(l,{class:"me-2",icon:"tabler-settings",size:"22"})]),default:t(()=>[e(c,null,{default:t(()=>[n("Settings")]),_:1})]),_:1}),e(I,{class:"my-2"}),e(i,{onClick:h},{prepend:t(()=>[e(l,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(c,null,{default:t(()=>[n("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1}))}};export{$ as default};
